// Add a new plugin with the name "link"
tinymce.PluginManager.add("link", function(editor) {
  // Define the `t` function that takes a `linkList` parameter
  function t(linkList) {
    // Return a function that will be executed when the link dialog is opened
    return function() {
      // ...
    };
  }

  // Define the `n` function that takes `items` and `callback` parameters
  function n(items, callback, userData) {
    // ...
  }

  // Define the `r` function that takes `data` parameter
  function r(data) {
    // ...
  }

  // ... (other functions)

  // Add a new button with the "link" icon, tooltip, and shortcut
  editor.addButton("link", {
    icon: "link",
    tooltip: "Insert/edit link",
    shortcut: "Meta+K",
    onclick: t(getLinkList),
    stateSelector: "a[href]"
  });

  // Add a new button with the "unlink" icon, tooltip, and command
  editor.addButton("unlink", {
    icon: "unlink",
    tooltip: "Remove link",
    cmd: "unlink",
    stateSelector: "a[href]"
  });

  // Add a new shortcut for Meta+K
  editor.addShortcut("Meta+K", "", t(getLinkList));

  // Add a new command for inserting/editing links
  editor.addCommand("mceLink", t(getLinkList));

  // Define the `showDialog` function for displaying the link dialog
  editor.showDialog = r;

  // Add a new menu item for the "Insert/edit link" action
  editor.addMenuItem("link", {
    icon: "link",
    text: "Insert/edit link",
    shortcut: "Meta+K",
    onclick: t(getLinkList),
    stateSelector: "a[href]",
    context: "insert",
    prependToContext: true
  });
});
